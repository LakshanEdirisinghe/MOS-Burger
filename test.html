<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Inventory Search Table</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="p-4">

  <div class="card shadow">
    <div class="card-header">
      <input type="text" id="searchBox" class="form-control" placeholder="Search by code, name or category...">
    </div>

    <div class="card-body">
      <div class="table-responsive">
        <table id="inventoryTable" class="table table-hover table-bordered align-middle">
          <thead class="table-dark">
            <tr>
              <th>Item Code</th>
              <th>Item Name</th>
              <th>Category</th>
              <th>Supplier</th>
              <th class="text-end">Qty</th>
              <th class="text-end">Reorder Point</th>
              <th class="text-end">Discount</th>
              <th class="text-end">Unit Price (LKR)</th>
              <th class="text-end">Total Price (LKR)</th>
              <th class="text-center">On Hand Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="tableBody">
            <tr>
              <td colspan="11" class="fw-bold text-center text-muted">No Data!</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // --- Inventory data ---
    const inventory = [
      {
        "itemCode": "B1001",
        "itemName": "Classic Burger (Large)",
        "price": 750,
        "discount": 0,
        "category": "Burger",
        "supplier": "MOS Kitchen",
        "qty": 25,
        "reorderPoint": 10
      },
      {
        "itemCode": "B1002",
        "itemName": "Classic Burger (Regular)",
        "price": 1500,
        "discount": 0,
        "category": "Burger",
        "supplier": "MOS Kitchen",
        "qty": 40,
        "reorderPoint": 15
      },
      {
        "itemCode": "B1003",
        "itemName": "Turkey Burger",
        "price": 1600,
        "discount": 0,
        "category": "Burger",
        "supplier": "Lanka Meats",
        "qty": 12,
        "reorderPoint": 5
      },
      {
        "itemCode": "B1004",
        "itemName": "Chicken Burger (Large)",
        "price": 1400,
        "discount": 0,
        "category": "Burger",
        "supplier": "MOS Kitchen",
        "qty": 18,
        "reorderPoint": 8
      }
    ];

    const tableBody = document.getElementById("tableBody");
    const searchBox = document.getElementById("searchBox");

    // --- Function to render table rows ---
    function renderTable(data) {
      tableBody.innerHTML = "";

      if (data.length === 0) {
        tableBody.innerHTML = `<tr>
          <td colspan="11" class="fw-bold text-center text-muted">No Matching Items!</td>
        </tr>`;
        return;
      }

      data.forEach(item => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${item.itemCode}</td>
          <td>${item.itemName}</td>
          <td>${item.category}</td>
          <td>${item.supplier}</td>
          <td class="text-end">${item.qty}</td>
          <td class="text-end">${item.reorderPoint}</td>
          <td class="text-end">${(item.discount * 100).toFixed(0)}%</td>
          <td class="text-end">${item.price.toLocaleString()}</td>
          <td class="text-end">${(item.price * item.qty).toLocaleString()}</td>
          <td class="text-center">
            <span class="badge ${item.qty > item.reorderPoint ? "text-bg-success" : "text-bg-danger"}">
              ${item.qty > item.reorderPoint ? "In Stock" : "Low Stock"}
            </span>
          </td>
          <td class="text-center">
            <div class="btn-group">
              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                âš™
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Update</a></li>
                <li><a class="dropdown-item" href="#">Delete</a></li>
              </ul>
            </div>
          </td>`;
        tableBody.appendChild(row);
      });
    }

    // --- Initial render ---
    renderTable(inventory);
    

    // --- Search filter ---
    searchBox.addEventListener("input", () => {
      const query = searchBox.value.toLowerCase();
      const filtered = inventory.filter(item =>
        item.itemName.toLowerCase().includes(query) ||
        item.itemCode.toLowerCase().includes(query) ||
        item.category.toLowerCase().includes(query)
      );
      renderTable(filtered);
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
